{% extends "base.html" %}

{% block title %}Register - Agricultural and Environmental Engineering{% endblock %}

{% block content %}
<div class="login-container">
    <div class="login-card" style="max-width: 500px;">
          <div class="login-logo">
    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="AEE Logo">
</div>
        <h1 class="login-title">Student Registration</h1>
        <p class="login-subtitle">Agricultural & Environmental Engineering<br>University of Ibadan</p>
        
        <form method="POST" action="{{ url_for('student_register') }}" id="registerForm">
            <input type="hidden">
            <div class="form-group">
                <label for="name">Full Name</label>
                <input type="text" id="name" name="name" class="form-control" required 
                       placeholder="Enter your full name">
            </div>
            
            <div class="form-group">
                <label for="matric_number">Matric Number</label>
                <input type="text" id="matric_number" name="matric_number" class="form-control" required 
                       placeholder="e.g., U21/AGE/1001" style="text-transform: uppercase;"
                       >
            </div>
            
            <div class="form-group">
                <label for="level">Level</label>
                <select id="level" name="level" class="form-control form-select" required>
                    <option value="">Select your level</option>
                    <option value="100">100 Level</option>
                    <option value="200">200 Level</option>
                    <option value="300">300 Level</option>
                    <option value="400">400 Level</option>
                    <option value="500">500 Level</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" name="email" class="form-control" required 
                       placeholder="Enter your email address">
            </div>
            
            <div class="form-group">
                <label for="phone">Phone Number</label>
                <input type="tel" id="phone" name="phone" class="form-control" required 
                       placeholder="Enter your phone number">
            </div>
            
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" class="form-control" required 
                       placeholder="Create a strong password" minlength="6">
            </div>
            
            <div class="form-group">
                <label for="confirm_password">Confirm Password</label>
                <input type="password" id="confirm_password" name="confirm_password" class="form-control" required 
                       placeholder="Confirm your password">
            </div>
            
            <button type="submit" class="btn w-100">Register</button>
        </form>
        
        <div style="margin-top: 2rem; text-align: center;">
            <p class="text-muted">Already have an account? <a href="{{ url_for('student_login') }}" style="color: var(--ui-green);">Login here</a></p>
            <p class="text-muted" style="font-size: 0.8rem; margin-top: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
                <strong>Note:</strong> After registration, your account will be pending approval by the department. 
                You will be notified when your account is activated.
            </p>
        </div>
    </div>
</div>

<script>
document.getElementById('registerForm').addEventListener('submit', function(e) {
    const password = document.getElementById('password').value;
    const confirmPassword = document.getElementById('confirm_password').value;
    
    if (password !== confirmPassword) {
        e.preventDefault();
        alert('Passwords do not match!');
        return;
    }
    
    if (password.length < 6) {
        e.preventDefault();
        alert('Password must be at least 6 characters long!');
        return;
    }
});

document.getElementById('matric_number').addEventListener('input', function(e) {
    e.target.value = e.target.value.toUpperCase();
});
</script>
{% endblock %}